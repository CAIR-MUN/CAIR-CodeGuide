Performance considerations should be data-driven and guided by
profiling. This chapter summarizes practical strategies for writing
efficient, maintainable code that scales.

## 10.1 Measure First

- Use profiling tools to identify real bottlenecks before optimizing.
- Micro-optimizations without data can waste time and introduce bugs.

## 10.2 Algorithmic Efficiency

- Prefer algorithms with lower time complexity for large inputs.
- Choose appropriate data structures (hash maps for lookups, arrays
  for compact storage, queues for FIFO behavior).

## 10.3 Memory Usage

- Avoid keeping entire large datasets in memory if streaming is possible.
- Reuse buffers/pools in high-throughput code to reduce allocations.
- In languages with manual memory control, ensure correct allocation
  and deallocation patterns; use RAII or similar where available.

## 10.4 Concurrency and Parallelism

- Use concurrency constructs where they match problem structure: threads
  for blocking I/O, async for high-concurrency I/O, multiprocessing for
  CPU-bound workloads (Python).
- Avoid shared mutable state where possible; prefer message-passing or
  immutable data structures.

## 10.5 Caching

- Cache expensive computations or remote calls when results are safe to
  reuse and can be invalidated.
- Choose appropriate cache TTLs and eviction policies to balance
  freshness and memory usage.

## 10.6 Avoid Premature Optimization

- Start with clear, correct code; optimize only when profiling shows
  hotspots.

## 10.7 Profiling Tools (examples)

- Python: `cProfile`, `memory_profiler`, `py-spy`
- Java: VisualVM, JProfiler
- C++: Valgrind, gprof, perf
- JavaScript/Node: Chrome DevTools, Node.js profiler

## 10.8 Benchmarks and Regression Testing

- Add performance tests for critical paths to detect regressions.
- Run benchmarks in stable environments to reduce noise and variability.

## 10.9 Practical checklist

- Profile before and after changes.
- Verify improvements with benchmarks.
- Add monitoring and alerts for performance regressions in production.

